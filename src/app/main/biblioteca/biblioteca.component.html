<section class="biblioteca" xmlns:fmt="http://www.w3.org/1999/XSL/Transform">
  <h1>{{'biblioteca' | translate}}</h1>
  <div *ngIf="JuegosEnBiblioteca.length === 0 || false">
    <div *ngFor="let juego of JuegosEnBiblioteca | slice: (_dataService.page-1) * _dataService.pageSize : (_dataService.page-1) * _dataService.pageSize + _dataService.pageSize">
      <div class="divjuegobiblioteca">
        <a class="a2" [routerLink]="['detalle/'+juego.idJuego]">
          <img src="../../../../assets/img/icojuego/{{juego.idJuego}}.jpg" alt="{{juego.nombre}}"/>
        </a>
      </div>
      <div class="divbiblioteca">
        <p>{{juego.nombre}}</p>
        <a (click)="delete(juego.idJuego)">
          <button>{{'eliminar' | translate}}</button>
        </a>

        <div class="addCarrito">
          <div *ngIf="juego.ediciones">
            <form [formGroup]="controlAddCarrito" (ngSubmit)="OnSubmitCarrito(juego.ediciones)">
              <select formControlName="edicion">
                <div *ngFor="let edicion of juego.ediciones">
                  <option value="{{edicion.id}}">
                    {{'formato' | translate}}
                    <div *ngFor="let formato of _dataService.formatos">
                      <div *ngIf="formato.idFormato === edicion.idFormato">{{formato.nombre}}</div>
                    </div>
                    {{'tipoedicion' | translate}}
                    <div *ngFor="let tipoEdicion of _dataService.tipoEdiciones">
                      <div *ngIf="tipoEdicion.idTipoEdicion === edicion.idTipoEdicion">{{tipoEdicion.nombre}}</div>
                    </div>
                    {{'precio' | translate}} : {{edicion.precio}}
                  </option>
                  <br>
                </div>
              </select>
              <input class="buttoncolor" type="submit" value="{{'addcarrito' | translate}}"/>
            </form>
          </div>
        </div>

        <div class="puntuacionVotar">
          <p>{{'cambiarpuntuacion' | translate}}</p>
          <form [formGroup]="puntuar" (click)="cambiarPuntuacion(juego.idJuego)">
            <select name="puntuacion">
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
            </select>
            <input type="submit" class="buttoncolor" value ="{{'votar' | translate}}"/>
          </form>
        </div>

        <div>
          {{'tupuntuacion' | translate}}
          <div *ngFor="let item of Puntuaciones">
            <div *ngIf="item.idJuego === juego.idJuego">{{item.puntuacion}}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <ngb-pagination
    [(page)]="_dataService.page"
    [pageSize]="_dataService.pageSize"
    [collectionSize]="JuegosEnBiblioteca.length"
    [rotate]="true"
    [ellipses]="false"
    [boundaryLinks]="true">
  </ngb-pagination>
</section>
